<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="Lechuan (Peter) Piao">
  <!-- Open Graph Data -->
  <meta property="og:title" content="Let’s talk about Process and Thread">
  <meta property="og:description" content>
  <meta property="og:site_name" content="To boldly go where no one has gone before">
  <meta property="og:type" content="article">
  <meta property="og:image" content="http://yoursite.com">
  
    <link rel="alternate" href="/atom.xml" title="To boldly go where no one has gone before" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>To boldly go where no one has gone before</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-light.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">Let’s talk about Process and Thread</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/PETERPIA">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:lpia5158@uni.sydney.edu.au">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Lechuan (Peter) Piao</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2019-02-21</span>
            <span class="time">16:56:31</span>
          </span>
          
        </div>
        <!-- Tags -->
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h1 id="1-Process"><a href="#1-Process" class="headerlink" title="1.Process"></a>1.Process</h1><h2 id="1-1-Fork"><a href="#1-1-Fork" class="headerlink" title="1.1 Fork()"></a>1.1 Fork()</h2><p><font size="4"> BY definitions, Process is an independent and scheduable activity (E. Cohen, D. Jofferson). When it is executing certain tasks, which could be executing calculation in parallel (J. T. Donovan S. E. Madnick), as an abstract entity or minimal unit, multiple resources will be allocated and released (P. Denning). </font></p>
<p><font size="4"> I merged these three definition to illustrate that the idea of process is defined by the general description, the work it succeeds and the effect it causes around itself. For many abstract notions, this is a good example how definition is made, instead of <em>per genus et differentiam</em>.</font></p>
<p><font size="4"> How to identify a process? The answer would be PID (Process Identity Number) and PPID (Parent PID). Each process has its own PID and vice versa. </font></p>
<p><font size="4"> It is only logical that the first process, i.e., the init process, has a PID of 1. In fact, init process is only user process 1, and before that there are process 0 and kernel process 1, during bootstrapping. When init process is fine and working, it will murder process 0 and kernel process 1. We will come back to it later.</font></p>
<p><font size="4"> The creation of sub-process by its parent process is via fork(). The example code is here:<br><img src="/2019/02/21/post1/fork.png" alt="fork() example"></font></p>
<p><font size="4"> The result is:<br><img src="/2019/02/21/post1/forkResult.png" alt="fork() result"></font></p>
<p><font size="4"> We can have 2 conclusions here, using getpid() and getppid(), which meanings are axiomatic. First, fork return PID of its sub-process in parent process and 0 in sub-process. Secondly, the fork() seems to have two return values here, but that is not ture. Since one process success the whole address space, includes process context, process stack, RAM info and etc., from its parent process, father and son process will execute the same code partition, if not specified by return value. </font></p>
<p><font size="4"> If you are interested, you can use sleep() to block processes temperately. The PID and PPID will vary with the time sequence that father process &amp; son process finish. I have done some experiments but the results I get is different with all other people online. If you get excited, please try it by all means and contact me by Email or Wechat.</font></p>
<p><font size="4"> Another thing to mention is that in kernel, the sub-process will not ask kernel to copy the physics address on RAM entirely. It’s slow and unnecessary. Copy-on-Write (CoW) method soves this problem. This method allows father&amp;son accessing the same physics memory instead of real copying. If either father or son change this memory, kernel will create a copy to enable writing. In this case, without additional call-on (by exec), process and its sub-process will not have indiviual physical meomry. Cow is not confined to Linux process but used in other applications such as C++ in certain IDE as well.<br></font><br> </p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        </p><p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

